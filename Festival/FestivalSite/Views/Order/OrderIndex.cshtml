@model FestivalSite.ViewModels.OrderVM
@using ClassLibraryModels
@{
    ViewBag.Title = "OrderIndex";
}

<h2>Orders for @User.Identity.Name: </h2>


<div id="orders">
@foreach (Ticket order in Model.OrdersPlacedByUser)
{
<ul>
    <li>
        <span>Order ID: </span>@order.ID
    </li>
    <li>
        <span>E-mail used to place order: </span>@order.Email
    </li> 
    <li>
        <span>Ticket tyep: </span>@order.TicketTypeProp.Name
    </li> 
    <li>
        <span>Amount orderd: </span>@order.Amount
    </li>
    <li>
        @Html.ActionLink("Remove order","RemoveOrder", new{ orderID = order.ID })
    </li>
</ul>
}
</div>

<div id="placeOrder">
    @if (!String.IsNullOrEmpty(Model.Message)) { 
    
        <span>@Model.Message </span>
    
    }

    @using (Html.BeginForm("PlaceOrder", "Order", FormMethod.Post)) {

        @Html.DropDownList("SelectedType", (SelectList)Model.SelectListTypes, "Select your ticket type.");
       
       
        <div class="editor-label">
            @Html.LabelFor(model => model.Amount)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Amount)
            @Html.ValidationMessageFor(model => model.Amount)
        </div>
        <input type="submit" value="Order" />
    
    }
</div>


